{"version":3,"sources":["../scripts.babel/popup.js"],"names":[],"mappings":";;AAAA,IAAI,KAAK,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC;AAClD,IAAI,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC,WAAW,CAAC;AACnE,IAAI,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC,cAAc,CAAC;;AAEzE,IAAI,SAAS,GAAG,SAAS,CAAC;;AAE1B,SAAS,QAAQ,CAAC,IAAI,EAAE;AACtB,MAAI,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACzB,MAAI,MAAM,GAAG,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,uCAAuC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;AAClG,UAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,SAAS,GAAG,MAAM,CAAC;AAC7D,MAAI,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC7G,UAAQ,CAAC,cAAc,CAAC,uBAAuB,CAAC,CAAC,SAAS,GAAG,WAAW,GAAG,WAAW,GAAG,UAAU,GAAG,SAAS,CAAC;AAChH,MAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,CAAE,CAAC;AAC9F,UAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,SAAS,GAAG,OAAO,GAAG,OAAO,GAAG,KAAK,GAAG,SAAS,CAAC;AACvF,MAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAE,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAE,CAAC;AACvG,UAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,SAAS,GAAG,KAAK,GAAG,KAAK,GAAG,UAAU,GAAG,SAAS,CAAC;AAC7F,MAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAE,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,CAAC,CAAE,CAAC;AACtF,UAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC,SAAS,GAAG,MAAM,GAAG,MAAM,GAAG,SAAS,GAAG,SAAS,CAAC;AAChG,MAAI,IAAI,GAAG,4BAA4B,CAAC;AACxC,MAAI,OAAO,GAAG,EAAE,CAAC;AACjB,MAAI,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC;AACvB,OAAK,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;AAC9B,WAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;GACnB;AACD,MAAI,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAC3B,UAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,SAAS,GAAG,GAAG,CAAC;AACrD,SAAO,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE,EAAE,WAAW,EAAE,GAAG,EAAE,cAAc,CAAC,CAAC;CAC5E;AACD,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC","file":"popup.js","sourcesContent":["var query = { active: true, currentWindow: true };\nvar trafficData = chrome.extension.getBackgroundPage().trafficData;\nvar persistentData = chrome.extension.getBackgroundPage().persistentData;\n\nvar noDataStr = 'no data';\n\nfunction callback(tabs) {\n  var currentTab = tabs[0];\n  var domain = currentTab.url.match(/^[\\w-]+:\\/*\\[?([\\w\\.:-]+)\\]?(?::\\d+)?/)[1].replace('www.', '');\n  document.getElementById('current_domain').innerHTML = domain;\n  var accumulated = chrome.extension.getBackgroundPage().bytesToCO2(Math.max(persistentData.total[domain], 0));\n  document.getElementById('footprint_accumulated').innerHTML = accumulated ? accumulated + 'g of CO2' : noDataStr;\n  var traffic = Math.max( Math.round(trafficData[currentTab.id] / 1024 / 1024 * 100) / 100, 0 );\n  document.getElementById('page_size').innerHTML = traffic ? traffic + ' MB' : noDataStr;\n  var grams = Math.max( chrome.extension.getBackgroundPage().bytesToCO2(trafficData[currentTab.id]), 0 );\n  document.getElementById('page_footprint').innerHTML = grams ? grams + 'g of CO2' : noDataStr;\n  var liters = Math.max( chrome.extension.getBackgroundPage().gramsToLiters(grams), 0 );\n  document.getElementById('footprint_volume').innerHTML = liters ? liters + ' Liters' : noDataStr;\n  var mate = '<div class=\"bottle\"></div>';\n  var bottles = [];\n  var sum = liters / 0.5; \n  for (var i = sum; i >= 1; i--) {\n  \tbottles.push(mate);\n  }\n  var str = bottles.join('');\n  document.getElementById('club_mate').innerHTML = str;\n  console.log('currentTab', currentTab.id, trafficData, str, persistentData);\n}\nchrome.tabs.query(query, callback);\n"]}