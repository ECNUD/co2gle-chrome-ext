{"version":3,"sources":["../scripts.babel/popup.js"],"names":[],"mappings":";;AAAA,IAAI,KAAK,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC;AAClD,IAAI,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC,WAAW,CAAC;AACnE,IAAI,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC,cAAc,CAAC;AACzE,IAAI,iBAAiB,GAAG,IAAI,CAAC;;AAE7B,SAAS,UAAU,CAAC,KAAK,EAAC;AACzB,SAAO,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,GAAG,IAAI,GAAG,iBAAiB,CAAC,CAAC;CAC3D;;AAED,SAAS,QAAQ,CAAC,IAAI,EAAE;AACtB,MAAI,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACzB,MAAI,MAAM,GAAG,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,uCAAuC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;AAClG,UAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,SAAS,GAAG,MAAM,CAAC;AAC7D,UAAQ,CAAC,cAAc,CAAC,uBAAuB,CAAC,CAAC,SAAS,GAAG,UAAU,CAAC,cAAc,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,UAAU,CAAC;AACnH,UAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC;AAC1H,MAAI,KAAK,GAAG,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;AACnD,UAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,SAAS,GAAG,KAAK,GAAG,UAAU,CAAC;AACzE,MAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,GAAG,GAAG,IAAI,CAAA,AAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;AAC1D,UAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC,SAAS,GAAG,MAAM,GAAG,SAAS,CAAC;AAC3E,MAAI,IAAI,GAAG,4BAA4B,CAAC;AACxC,MAAI,OAAO,GAAG,EAAE,CAAC;AACjB,MAAI,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC;AACvB,OAAK,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;AAC9B,WAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;GACnB;AACD,MAAI,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAC3B,UAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,SAAS,GAAG,GAAG,CAAC;AACrD,SAAO,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE,EAAE,WAAW,EAAE,GAAG,EAAE,cAAc,CAAC,CAAC;CAC5E;AACD,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC","file":"popup.js","sourcesContent":["var query = { active: true, currentWindow: true };\nvar trafficData = chrome.extension.getBackgroundPage().trafficData;\nvar persistentData = chrome.extension.getBackgroundPage().persistentData;\nvar co2ConversionRate = 7.22;\n\nfunction bytesToCO2(bytes){\n\treturn Math.round(bytes / 1024 / 1024 * co2ConversionRate);\n}\n\nfunction callback(tabs) {\n  var currentTab = tabs[0];\n  var domain = currentTab.url.match(/^[\\w-]+:\\/*\\[?([\\w\\.:-]+)\\]?(?::\\d+)?/)[1].replace('www.', '');\n  document.getElementById('current_domain').innerHTML = domain;\n  document.getElementById('footprint_accumulated').innerHTML = bytesToCO2(persistentData.total[domain]) + 'g of CO2';\n  document.getElementById('page_size').innerHTML = Math.round(trafficData[currentTab.id] / 1024 / 1024 * 100) / 100 + ' MB';\n  var grams = bytesToCO2(trafficData[currentTab.id]);\n  document.getElementById('page_footprint').innerHTML = grams + 'g of CO2';\n  var liters = Math.round(grams * (559 / 1000) * 100) / 100;\n  document.getElementById('footprint_volume').innerHTML = liters + ' Liters';\n  var mate = '<div class=\"bottle\"></div>';\n  var bottles = [];\n  var sum = liters / 0.5;\n  for (var i = sum; i >= 0; i--) {\n  \tbottles.push(mate);\n  }\n  var str = bottles.join('');\n  document.getElementById('club_mate').innerHTML = str;\n  console.log('currentTab', currentTab.id, trafficData, str, persistentData);\n}\nchrome.tabs.query(query, callback);\n"]}